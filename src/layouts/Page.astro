---
import "@/styles/globals.css";
import { Button } from "@/shadcn/ui/button";
import { Moon, Sun } from "lucide-react";

type Props = {
  title: string;
};
// Find darkMode in localStorage from previous session
const darkMode = localStorage;
console.log("ðŸš€ ~ file: Page.astro:11 ~ darkMode:", darkMode);
---

<!DOCTYPE html>
<html lang="en" class={darkMode ? "dark" : ""}>
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="description" content="Nicolas Toffolo, software and web developer" />
    <meta
      name="keywords"
      content="Toffolo, frontend, backend, TypeScript, JavaScript, JS, Node.js, C++, software engineer, developer, ESP32"
    />
    <meta name="author" content="Nicolas Toffolo" />
    <meta property="og:title" content="NicoToff" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Nicolas Toffolo's portfolio website" />
    <meta property="og:image" content="https://i.postimg.cc/b8LnH8zj/nt.png" />
    {/* TODO: <meta property="og:url" content="" /> */}
    <meta name="generator" content={Astro.generator} />
    <title>{Astro.props.title}</title>
  </head>
  <body class="bg-orange-200 dark:bg-orange-800">
    <nav>
      <Button data-switch-theme>Light</Button>
    </nav>
    <slot />
  </body>
  <script>
    document.querySelector("[data-switch-theme]").addEventListener("click", () => {
      const html = document.querySelector("html");
      html.classList.toggle("dark");
      if (html.classList.contains("dark")) {
        localStorage.darkMode = "true";
      } else {
        localStorage.darkMode = "false";
      }
      document.querySelector("[data-switch-theme]").textContent = html.classList.contains("dark") ? "Dark" : "Light";
    });
  </script>
</html>
